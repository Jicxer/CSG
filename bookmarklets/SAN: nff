javascript:(function(){"use strict";function findOption(dropdown,targetLabel){return Array.from(dropdown.options).find(option=>option.textContent.trim().toLowerCase()===targetLabel.toLowerCase())}function handleAddNotesCheckboxes(){const checkboxIDs=["chkContact","chkResources","chkCC"];checkboxIDs.forEach(id=>{const checkbox=document.getElementById(id);if(!checkbox){console.log(id,"not found");return}if(checkbox.checked){console.log(id,"is checked, unchecking now...");checkbox.click()}else{console.log(id,"already unchecked")}})}async function closeAsNFF(){const boardDropdown=document.getElementById("ddlBoard");const statusDropDown=document.getElementById("ddlStatus");const itemDropDown=document.getElementById("ddlSubTypeItem");if(!boardDropdown||!statusDropDown||!itemDropDown){console.log("One of dropdowns not found");return}const sanSelected=findOption(boardDropdown,"SAN")?.selected;const retroSelected=findOption(boardDropdown,"SAN - Retroactive")?.selected;if(!sanSelected&&!retroSelected){console.log("Neither SAN/Retro were selected");return}await addNotes();console.log("Closing the ticket to no fraud found");statusDropDown.value=findOption(statusDropDown,"closed")?.value;itemDropDown.value=findOption(itemDropDown,"no fraud found")?.value;clickSaveButton()}function wait(seconds){return new Promise(resolve=>{setTimeout(resolve,seconds*1000)})}async function addNotes(){addSupportNotes(true);console.log("Waiting 1 seconds...");await wait(1);console.log("Finished waiting");console.log("Changing the value for the notes to no fraud found!");const addNotestxt=document.getElementById("txtNoteDescription");if(!addNotestxt){console.log("Textbox not found");return}addNotestxt.value="Video reviewed, no fraud found";SubmitNotes(true)}function clickSaveButton(){const saveButton=document.querySelector(".EditTicket");saveButton?.click();console.log("Clicked save button")}const bodyObserver=new MutationObserver(()=>{const modal=document.querySelector("#modal-addnote");if(!modal.classList.contains("mfp-hide")){console.log("Add notes modal is visible!");handleAddNotesCheckboxes()}});bodyObserver.observe(document.body,{childList:true,subtree:true});closeAsNFF()})();
